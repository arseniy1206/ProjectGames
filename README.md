# ProjectGames

## Описание проекта
**ProjectGames** — это финальный Java-проект, где я реализовал работу с данными о видеоиграх.  

Основные возможности:
- Загрузка данных о видеоиграх из CSV-файла.
- Сохранение и чтение данных из базы данных.
- Выполнение SQL-запросов для анализа данных.
- Построение графиков по продажам игр на разных платформах.

## Ход работы над проектом
### 1. Создание класса Game
Создал класс Game, с полями, которые будут соответствовать данным, которые хранятся в CSV.
Я использовал аннотацию `@CsvBindByName` из библиотеки OpenCSV для связывания полей класса с колонками в CSV-файле.
Эта аннотация позволяет библиотеке OpenCSV автоматически заполнять поля объекта данными из CSV-файла, основываясь на названии столбцов.
### 2. Загрузка данных
Используется класс `FileLoader` для загрузки данных о видеоиграх из CSV-файла по указанному пути.
### 3. Работа с базой данных
База данных SQLite используется для хранения и анализа данных.  
Класс `DataBase` предоставляет следующие функции:
- Создание таблиц.
- Вставка данных.
- Получение данных.
- Выполнение запросов для анализа данных согласно заданию.
Чтобы моя база данных соответствовала 3 НФ я решил разделить данные из CSV на две таблицы
`Game` и `Sales` связь реализована через внешний ключ `game_rank`
![2024-12-21_13-33-39](https://github.com/user-attachments/assets/a54503cc-9273-4453-ba8c-42dda5facdc6)
![2024-12-21_13-33-12](https://github.com/user-attachments/assets/e8590e0f-7178-485d-a029-70836eac3b8f)
### 4. Выполнение поставленных заданий
2. "Игра с самым высоким показателем продаж в Европе за 2000 год"
   Был создан запрос
      ```
   "SELECT g.name, MAX(s.eu_sales) AS max_eu_sales " +
   "FROM Game g JOIN Sales s ON g.rank = s.game_rank " +
   "WHERE g.year = '2000' " +
   "GROUP BY g.name " +
   "ORDER BY max_eu_sales DESC LIMIT 1"```
Я получил результат 
`Игра с самым высоким показателем продаж в Европе за 2000 год: Driver 2, с продажами 2.1`
и вывел его в консоль
  ![Java задание 2](https://github.com/user-attachments/assets/102fd0da-ecdd-408c-a3d9-8df28321eeb9)
3. "Игра с самым высоким показателем продаж в Японии с 2000 по 2006 год в жанре спортивных игр"
  Был создан запрос
      ```
    "SELECT g.name, MAX(s.jp_sales) AS max_jp_sales " +
    "FROM Game g JOIN Sales s ON g.rank = s.game_rank " +
    "WHERE g.year BETWEEN '2000' AND '2006' AND g.genre = 'Sports' " +
    "GROUP BY g.name " +
    "ORDER BY max_jp_sales DESC LIMIT 1"```
Я получил результат
`Игра с самым высоким показателем продаж в Японии с 2000 по 2006 год в жанре спортивных игр: Wii Sports, с продажами 3.77`
и вывел его в консоль
  ![Java задание 3](https://github.com/user-attachments/assets/a02a324f-f797-447d-8969-958d0e671f7e)
### 5. Выполнение задания с графиком (Постройте график по средним показателям глобальных продаж, объединив их по платформам.)
Для выполнения этого задания был создан класс `Graph`. 
Датасет для графика был получен с помощтю sql-запроса в классе `DataBase`. В целом логика создания и построения графа такая же, как в наших работах на паре.
Единственное отличие, я развернул подписи Платформ на 45 градусов, чтобы они все поместились на графике: `xAxis.setCategoryLabelPositions(CategoryLabelPositions.UP_45);` 
Был получен следующий график:
![Java задание 1](https://github.com/user-attachments/assets/bdc6617c-9626-4bd4-be35-ebcde809784b)
### 6. Добавление проекта на GitHub
Установил git репозеторий в проект, дополнил файл .gitignore, добавил файлы в репозиторий, отправил проект на GitHub.
